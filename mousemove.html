<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Перемещение мышки</title>
  </head>
  <body>
    <h1 id="heading">Header</h1>

    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>

    <script>
      // $("html").mousemove (function(event) {
      //   $("#heading").offset({
      //     left: event.pageX,
      //     top: event.pageY
      //   });
      // });

      // $("html").click(function(event) {
      //   $("#heading").offset({
      //     left: event.pageX,
      //     top: event.pageY
      //   });
      // });

      // var offsetLeft = 0;
      // var offsetTop = 0;
      // var moveHeading = function() {
      //   if (offsetLeft <= 200 && offsetTop <= 0) {
      //     $("#heading").offset({ left: offsetLeft++ });
      //   } else if (offsetLeft >= 200 && offsetTop <= 200) {
      //     $("#heading").offset({ top: offsetTop++ });
      //   } else if (offsetLeft > 0 && offsetTop >= 200) {
      //     $("#heading").offset({ left: offsetLeft-- });
      //   } else if (offsetLeft <= 0 && offsetTop > 0) {
      //     $("#heading").offset({ top: offsetTop-- });
      //   }
      // };
      // var intervalId = setInterval(moveHeading, 15);
      // $("#heading").click(function() {
      //   clearInterval(intervalId);
      // });

      var offsetLeft = 0;
      var offsetTop = 0;
      var clicks = 0;
      var interval = 120;
      var moveHeading = function() {
        if (offsetLeft < 200 && offsetTop <= 0) {
          $("#heading").offset({ left: offsetLeft++ });
        } else if (offsetLeft >= 200 && offsetTop <= 200) {
          $("#heading").offset({ top: offsetTop++ });
        } else if (offsetLeft > 0 && offsetTop >= 200) {
          $("#heading").offset({ left: offsetLeft-- });
        } else if (offsetLeft <= 0 && offsetTop > 0) {
          $("#heading").offset({ top: offsetTop-- });
        }
      };
      var intervalId = setInterval(moveHeading, interval);
      $("#heading").click(function() {
        clearInterval(intervalId);
        interval /= 2;
        clicks++;

        if (clicks > 10) {
          $("#heading").text("Вы победили!!!!");
        } else {
          intervalId = setInterval(moveHeading, interval);
        }
      });
    </script>
  </body>
</html>
